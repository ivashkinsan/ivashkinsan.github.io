<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ступени</title>
    <script>
        // Простая система версионирования для сброса кэша
        const APP_VERSION = '1.0.1';

        // Динамически добавляем CSS
        const cssLink = document.createElement('link');
        cssLink.rel = 'stylesheet';
        cssLink.href = `stage.css?v=${APP_VERSION}`;
        document.head.appendChild(cssLink);
    </script>
</head>

<body>
    <div class="top-buttons-container">
        <div class="chord-selector-container">
            <label for="chord-type-select">Выберите тип аккорда:</label>
            <select id="chord-type-select"></select>
        </div>
        <button id="reset-progress-btn" class="reset-button">Сбросить прогресс</button>
        <button id="history-btn" class="icon-button" title="Показать историю">
            $
        </button>
    </div>
    <h2 id="table-title"></h2>
    <div class="app"></div>

    <!-- Прогресс-бар -->
    <div class="progress-container">
        <div id="progress-bar" class="progress-bar"></div>
    </div>

    <!-- Модальное окно завершения -->
    <div id="completion-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Поздравляем!</h2>
            <p>Вы успешно завершили все задания.</p>
            <p><strong>Время завершения:</strong> <span id="completion-time-element"></span></p>
            <p><strong>Затраченное время:</strong> <span id="time-spent-element"></span></p>
            <div class="stats-grid">
                <p><strong>Всего попыток:</strong> <span id="total-attempts-element"></span></p>
                <p><strong>Неудачных:</strong> <span id="failed-attempts-element"></span></p>
                <p><strong>Качество:</strong> <span id="quality-element"></span></p>
            </div>
            <button id="modal-reset-btn" class="reset-button">Начать заново</button>
        </div>
    </div>

    <!-- Модальное окно истории -->
    <div id="history-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="history-title">История сессий</h2>
            <div id="history-list-container">
                <!-- Сюда будет добавляться история -->
            </div>
            <button id="history-close-btn" class="reset-button">Закрыть</button>
        </div>
    </div>

    <script>
        // Динамически добавляем JS
        const jsScript = document.createElement('script');
        jsScript.src = `main.js?v=${APP_VERSION}`;
        jsScript.type = 'module';
        document.body.appendChild(jsScript);
    </script>
</body>

</html>